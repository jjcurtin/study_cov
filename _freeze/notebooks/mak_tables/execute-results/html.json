{
  "hash": "34766816ea2de98d8595e8c7294834c9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Make Tables for Main Manuscript\"\nauthor: \"Lauren Khoury and Kendra Wyant\"\ndate: \"2025-11-14\"\nnumber-sections: true\noutput: \n  html_document:\n    toc: true \n    toc_depth: 4\nformat:\n  html:\n    embed-resources: true\n    toc: true\n    toc-depth: 4\neditor_options: \n  chunk_output_type: console\nhtml-table-processing: none\n---\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'skimr' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(cowplot)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'cowplot' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'ggplot2' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --\nv dplyr     1.1.4     v readr     2.1.5\nv forcats   1.0.0     v stringr   1.5.1\nv ggplot2   4.0.0     v tibble    3.2.1\nv lubridate 1.9.4     v tidyr     1.3.1\nv purrr     1.0.4     \n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter()    masks stats::filter()\nx dplyr::lag()       masks stats::lag()\nx lubridate::stamp() masks cowplot::stamp()\ni Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(kableExtra, exclude = (\"group_rows\"))\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'kableExtra' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\noptions(digits = 3)\n\ndevtools::source_url(\"https://github.com/jjcurtin/lab_support/blob/main/format_path.R?raw=true\") |> suppressMessages()\n\nrdrive_path <- format_path(\"cov/raw_data\")\ntable <- read_csv(here::here(rdrive_path, \"estimate_table.csv\"),\n                  show_col_types = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nlm_methods <- tibble(Method = c(\"No covariates\", \"All covariates\", \"P-hacking\",\n                  \"Bivariate correlation\", \"Partial correlation\",\n                  \"Full linear model\", \"Full linear model with X\",\n                  \"LASSO\", \"LASSO with X\"),\n       Definition = c(\"Y is regressed on X without any covariates.\",\n                      \"All available covariates are included in the regression model.\",\n                      \"Unsystematically adding covariates based on whether they lower the p-value of the main effect of X on Y.\",\n                      \"Pearson correlation coefficient (r) of covariates on Y. Covariates are considered one at a time and included in the final model if they yield a significant effect on Y (p < .05).\",\n                      \"Pearson correlation coefficient (r) of covariates on Y while controlling for X. Covariates are considered one at a time and included in the final model if they yield a significant effect on Y (p < .05).\",\n                      \"A full linear model that regresses Y on all available covariates. Covariates that have a statistically significant effect on Y (p < .05) are retained.\",\n                      \"A full linear model that regresses Y on all available covariates and X. Covariates that have a statistically significant effect on Y (p < .05) when controlling for X are retained.\",\n                      \"A linear model that regresses Y on all available covariates and applies a penalty to shrink coefficients for less important covariates, potentially dropping them altogether (i.e., coefficient of 0). Covariates with non-zero coefficients were retained.\",\n                      \"A linear model that regresses Y on all available covariates and applies a penalty to shrink coefficients for less important covariates. We assigned a 0 penalty to X to retain it in the model. Covariates with non-zero coefficients when controlling for X were retained.\"))\n```\n:::\n\n::: {#tbl-methods .cell tbl-cap='The nine linear regression models and their definition for covariate selection.'}\n\n```{.r .cell-code .hidden}\n#| label: tbl-methods\n#| tbl-cap: The nine linear regression models and their definition for covariate selection.\n\nlm_methods |> \n  kbl(escape = FALSE) |> \n  kable_classic()\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning in attr(x, \"align\"): 'xfun::attr()' is deprecated.\nUse 'xfun::attr2()' instead.\nSee help(\"Deprecated\")\n```\n\n\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Method </th>\n   <th style=\"text-align:left;\"> Definition </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> No covariates </td>\n   <td style=\"text-align:left;\"> Y is regressed on X without any covariates. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All covariates </td>\n   <td style=\"text-align:left;\"> All available covariates are included in the regression model. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> P-hacking </td>\n   <td style=\"text-align:left;\"> Unsystematically adding covariates based on whether they lower the p-value of the main effect of X on Y. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bivariate correlation </td>\n   <td style=\"text-align:left;\"> Pearson correlation coefficient (r) of covariates on Y. Covariates are considered one at a time and included in the final model if they yield a significant effect on Y (p &lt; .05). </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Partial correlation </td>\n   <td style=\"text-align:left;\"> Pearson correlation coefficient (r) of covariates on Y while controlling for X. Covariates are considered one at a time and included in the final model if they yield a significant effect on Y (p &lt; .05). </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Full linear model </td>\n   <td style=\"text-align:left;\"> A full linear model that regresses Y on all available covariates. Covariates that have a statistically significant effect on Y (p &lt; .05) are retained. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Full linear model with X </td>\n   <td style=\"text-align:left;\"> A full linear model that regresses Y on all available covariates and X. Covariates that have a statistically significant effect on Y (p &lt; .05) when controlling for X are retained. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LASSO </td>\n   <td style=\"text-align:left;\"> A linear model that regresses Y on all available covariates and applies a penalty to shrink coefficients for less important covariates, potentially dropping them altogether (i.e., coefficient of 0). Covariates with non-zero coefficients were retained. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LASSO with X </td>\n   <td style=\"text-align:left;\"> A linear model that regresses Y on all available covariates and applies a penalty to shrink coefficients for less important covariates. We assigned a 0 penalty to X to retain it in the model. Covariates with non-zero coefficients when controlling for X were retained. </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {#tbl-dictionary .cell tbl-cap='Research setting variables and values'}\n\n```{.r .cell-code .hidden}\n#| label: tbl-dictionary\n#| tbl-cap: \"Research setting variables and values\"\n\ndata_tbl0 <- tibble(\n  description = c(\n    \"The population parameter for X\",\n    \"The number of observations in the sample\",\n    \"The number of covariates\",\n    \"The proportion of \\\"good\\\" covariates\",\n    \"The correlation between Y and good covariates\"),\n  values = c(\"0, 0.3, 0.5\",\n             \"50, 100, 150, 200, 300, 400\", \n             \"4, 8, 12, 16, 20\", \n             \"0.25, 0.50, 0.75\",\n             \"0.3, 0.5\" \n             )\n)\n\ndata_tbl0 |>\n  kbl(col.names = c(\"Research Setting Variable\", \"Values\"), \n      escape = FALSE) |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"), \n                full_width = FALSE) |>\n  column_spec(1, width = \"15em\") |>\n  column_spec(2, width = \"10em\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning in attr(x, \"align\"): 'xfun::attr()' is deprecated.\nUse 'xfun::attr2()' instead.\nSee help(\"Deprecated\")\n```\n\n\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Research Setting Variable </th>\n   <th style=\"text-align:left;\"> Values </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> The population parameter for X </td>\n   <td style=\"text-align:left;width: 10em; \"> 0, 0.3, 0.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> The number of observations in the sample </td>\n   <td style=\"text-align:left;width: 10em; \"> 50, 100, 150, 200, 300, 400 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> The number of covariates </td>\n   <td style=\"text-align:left;width: 10em; \"> 4, 8, 12, 16, 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> The proportion of \"good\" covariates </td>\n   <td style=\"text-align:left;width: 10em; \"> 0.25, 0.50, 0.75 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> The correlation between Y and good covariates </td>\n   <td style=\"text-align:left;width: 10em; \"> 0.3, 0.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {#tbl-est .cell tbl-cap='Mean estimates of effect size by method and true effect size'}\n\n```{.r .cell-code .hidden}\n#| label: tbl-est\n#| tbl-cap: \"Mean estimates of effect size by method and true effect size\"\n#| warning: false\n\ntable |> \n  kable() |> \n  kable_classic()\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning in attr(x, \"align\"): 'xfun::attr()' is deprecated.\nUse 'xfun::attr2()' instead.\nSee help(\"Deprecated\")\nWarning in attr(x, \"align\"): 'xfun::attr()' is deprecated.\nUse 'xfun::attr2()' instead.\nSee help(\"Deprecated\")\n```\n\n\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> method </th>\n   <th style=\"text-align:right;\"> b_x = 0 </th>\n   <th style=\"text-align:right;\"> b_x = .3 </th>\n   <th style=\"text-align:right;\"> b_x = .5 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> p-hacking </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.368 </td>\n   <td style=\"text-align:right;\"> 0.563 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> No covariates </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.300 </td>\n   <td style=\"text-align:right;\"> 0.500 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All covariates </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.300 </td>\n   <td style=\"text-align:right;\"> 0.500 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Single covariate lm </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.297 </td>\n   <td style=\"text-align:right;\"> 0.495 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Single covariate lm with X </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.300 </td>\n   <td style=\"text-align:right;\"> 0.500 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All covariates lm </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.287 </td>\n   <td style=\"text-align:right;\"> 0.479 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All covariates lm with X </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.300 </td>\n   <td style=\"text-align:right;\"> 0.500 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All covariates LASSO </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.292 </td>\n   <td style=\"text-align:right;\"> 0.487 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All covariates LASSO with X </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.300 </td>\n   <td style=\"text-align:right;\"> 0.500 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n",
    "supporting": [
      "mak_tables_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}